{"ast":null,"code":"import React,{useState,useEffect}from'react';import{doc,getDoc,updateDoc}from'firebase/firestore';import{auth,db}from'../../firebase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(){const[formData,setFormData]=useState({name:'',phone:'',birthDate:'',address:''});useEffect(()=>{const fetchData=async()=>{const docRef=doc(db,'users',auth.currentUser.uid);const docSnap=await getDoc(docRef);if(docSnap.exists()){const data=docSnap.data();setFormData({name:data.name,phone:data.phone,birthDate:data.birthDate.toDate().toISOString().split('T')[0],address:data.address});}};fetchData();},[]);const handleSubmit=async e=>{e.preventDefault();try{await updateDoc(doc(db,'users',auth.currentUser.uid),{...formData,birthDate:new Date(formData.birthDate)});alert('Profile updated successfully!');}catch(error){console.error('Update error:',error);alert('Error updating profile');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit})]});}","map":{"version":3,"names":["React","useState","useEffect","doc","getDoc","updateDoc","auth","db","jsx","_jsx","jsxs","_jsxs","Profile","formData","setFormData","name","phone","birthDate","address","fetchData","docRef","currentUser","uid","docSnap","exists","data","toDate","toISOString","split","handleSubmit","e","preventDefault","Date","alert","error","console","className","children","onSubmit"],"sources":["D:/git/app-dashboard/src/Dashboard/features/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { doc, getDoc, updateDoc } from 'firebase/firestore';\r\nimport { auth, db } from '../../firebase';\r\n\r\nexport default function Profile() {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    phone: '',\r\n    birthDate: '',\r\n    address: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const docRef = doc(db, 'users', auth.currentUser.uid);\r\n      const docSnap = await getDoc(docRef);\r\n      if (docSnap.exists()) {\r\n        const data = docSnap.data();\r\n        setFormData({\r\n          name: data.name,\r\n          phone: data.phone,\r\n          birthDate: data.birthDate.toDate().toISOString().split('T')[0],\r\n          address: data.address\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await updateDoc(doc(db, 'users', auth.currentUser.uid), {\r\n        ...formData,\r\n        birthDate: new Date(formData.birthDate)\r\n      });\r\n      alert('Profile updated successfully!');\r\n    } catch (error) {\r\n      console.error('Update error:', error);\r\n      alert('Error updating profile');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-form\">\r\n      <h2>Edit Profile</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {/* Add form fields similar to AuthForm */}\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,MAAM,CAAEC,SAAS,KAAQ,oBAAoB,CAC3D,OAASC,IAAI,CAAEC,EAAE,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAChC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,CACvCc,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,SAAS,CAAE,EAAE,CACbC,OAAO,CAAE,EACX,CAAC,CAAC,CAEFhB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAAC,MAAM,CAAGjB,GAAG,CAACI,EAAE,CAAE,OAAO,CAAED,IAAI,CAACe,WAAW,CAACC,GAAG,CAAC,CACrD,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAnB,MAAM,CAACgB,MAAM,CAAC,CACpC,GAAIG,OAAO,CAACC,MAAM,CAAC,CAAC,CAAE,CACpB,KAAM,CAAAC,IAAI,CAAGF,OAAO,CAACE,IAAI,CAAC,CAAC,CAC3BX,WAAW,CAAC,CACVC,IAAI,CAAEU,IAAI,CAACV,IAAI,CACfC,KAAK,CAAES,IAAI,CAACT,KAAK,CACjBC,SAAS,CAAEQ,IAAI,CAACR,SAAS,CAACS,MAAM,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC9DV,OAAO,CAAEO,IAAI,CAACP,OAChB,CAAC,CAAC,CACJ,CACF,CAAC,CACDC,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAA1B,SAAS,CAACF,GAAG,CAACI,EAAE,CAAE,OAAO,CAAED,IAAI,CAACe,WAAW,CAACC,GAAG,CAAC,CAAE,CACtD,GAAGT,QAAQ,CACXI,SAAS,CAAE,GAAI,CAAAe,IAAI,CAACnB,QAAQ,CAACI,SAAS,CACxC,CAAC,CAAC,CACFgB,KAAK,CAAC,+BAA+B,CAAC,CACxC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCD,KAAK,CAAC,wBAAwB,CAAC,CACjC,CACF,CAAC,CAED,mBACEtB,KAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5B,IAAA,OAAA4B,QAAA,CAAI,cAAY,CAAI,CAAC,cACrB5B,IAAA,SAAM6B,QAAQ,CAAET,YAAa,CAEvB,CAAC,EACJ,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}